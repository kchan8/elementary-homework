<navigation client="vm.client"></navigation>
<div class="container">
  <h1>Upload workbook</h1>
  <div role="alert" ng-show="formError" class="alert alert-danger">{{formError}}</div>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <form enctype="multipart/form-data">
    <div class="row">
      <div class="col-xs-2 col-sm-2 col-md-2 col-lg-1 form-group">
      <label class="control-label">Grade</label>
      <select type="text" class="form-control" ng-model="workbook.grade" >
        <option>K</option>
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
      </div>
  
      <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 form-group">
      <label class="control-label">Subject</label>
      <select type="text" class="form-control" ng-model="workbook.subject" >
        <option>Math</option>
        <option>Chinese</option>
        <option>Writing</option>
      </select>
      </div>
  
      <div class="col-xs-2 col-sm-2 col-md-2 col-lg-1 form-group">
        <label class="control-label">Chapter</label>
        <input type="text" class="form-control" ng-model="workbook.chapter" ng-change="clear()">
      </div>
      <div class="col-xs-2 col-sm-2 col-md-2 col-lg-1 form-group">
        <label class="control-label">Lesson</label>
        <input type="text" class="form-control" ng-model="workbook.lesson" ng-change="clear()">
      </div>
      <div class="col-xs-2 col-sm-2 col-md-2 col-lg-1 form-group">
        <label class="control-label">Pages</label>
        <input type="text" class="form-control" ng-model="workbook.pages" ng-change="updatePages(workbook.pages)">
      </div>
      
      <div class="form-inline col-xs-9 col-sm-4 col-md-3 col-lg-3">
      <div class="col-xs-12">
        <label class="col-form-label" style="text-align:left;">Due By</label>
      </div>
      <div class="input-group col-xs-6 col-sm-9 col-md-8 col-lg-9">  
        <input type="text" class="form-control" ng-model="workbook.dueDate" 
    	uib-datepicker-popup="{{format}}" 
        is-open="popup1.opened"/>
        <span class="input-group-btn">          
        <button type="button" class="btn btn-default" ng-click="open1()">
            <i class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </div>
      </div>
      <div class="form-inline col-xs-9 col-sm-4 col-md-3 col-lg-3">
      <div class="col-xs-12">
        <label class="col-form-label" style="text-align:left;">Expire</label>
      </div>
      <div class="input-group col-xs-6 col-sm-9 col-md-8 col-lg-9">
        <input type="text" class="form-control" ng-model="workbook.expireDate" 
        uib-datepicker-popup="{{format}}"
        is-open="popup2.opened"/>
        <span class="input-group-btn">          
        <button type="button" class="btn btn-default" ng-click="open2()">
            <i class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-xs-10 col-sm-10 col-md-8 col-lg-8 form-group">
        <label class="control-label">Title</label>
        <input type="text" class="form-control" ng-model="workbook.description" ng-change="clear()">
      </div>
    </div>
    
    <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 well">
	<h3 class="title" ng-show="workbook.pages == undefined || workbook.pages == 0">Choose PDF and PNG Files</h3>
	<h3 class="title" ng-show="workbook.pages == 1">Choose PDF(.pdf) and PNG(.png) files, total {{workbook.pages + 1}} files</h3>
	<h3 class="title" ng-show="workbook.pages > 1">Choose PDF(.pdf) and PNG(-xx.png) files, total {{workbook.pages + 1}} files</h3>
	<div class="form-group">
	  <input type="file" class="form-control" multiple ng-file-model="workbook.files"/>
	  <button style="margin-right: 10px" ng-repeat="file in workbook.files">
      {{file.name}}
      </button>
	</div>
	
	<div class="form-group">
	<!-- 
	  <button type="reset" class="btn btn-danger">Reset</button>
	 -->
	  <button type="submit" class="btn btn-success pull-right" ng-click="upload()">Upload</button>
	</div>
	<p ng-show="showProgress">Upload Status: {{progressBar}}%</p>
	</div>
  </form>

  </div>
  <footer-generic></footer-generic>
</div>