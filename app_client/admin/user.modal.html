<div class="modal-header">
  <h3>Edit User Profile</h3>
</div>

<div class="modal-body" id="modal-body">
  <div class="row">
    <div class="col-xs-2 btn-group btn-group-vertical">
      <label class="btn btn-xs" style="text-align: left">
      <input type="radio" ng-model="user.type" value="child" ng-checked="user.type=='child'">&nbsp;&nbsp;<b>Student</b>
      </label>
      <label class="btn btn-xs" style="text-align: left">
      <input type="radio" ng-model="user.type" value="adult" ng-checked="user.type=='adult'">&nbsp;&nbsp;<b>Adult</b>
      </label>
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">First name</label>
      <input type="text" required name="firstname" class="form-control" ng-model="user.name.firstName" >
      <span class="error" ng-show="form.addUser.firstname.$dirty && form.addUser.firstname.$error.required">
        Please enter first name
      </span>
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Last name</label>
      <input type="text" name="lastname" class="form-control" ng-model="user.name.lastName" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Username</label>
      <input type="text" name="username" class="form-control" ng-model="user.username" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Gender</label>
      <select type="text" name="gender" class="form-control" ng-model="user.gender" >
        <option>Female</option>
        <option>Male</option>
      </select>
    </div>
    <div class="col-xs-2 form-group" ng-if="user.type == 'child'">
      <label class="control-label">School Grade</label>
      <select type="text" class="form-control" ng-model="user.grade" >
        <option>TK</option>
        <option>K</option>
        <option>1st</option>
        <option>2nd</option>
        <option>3rd</option>
        <option>4th</option>
        <option>5th</option>
        <option>6th</option>
        <option>7th</option>
        <option>8th</option>
        <option>NA</option>
      </select>
    </div>
    <div class="col-xs-2 form-group" ng-if="user.type == 'adult'">
      <label class="control-label">Roles</label>
      <select multiple class="form-control" ng-model="user.userType" >
        <option>Parent</option>
        <option>Driver</option>
        <option>Teacher</option>
        <option>Admin</option>
      </select>
    </div>
  </div>

  <div class="row" ng-if="user.type == 'child'">
    <div class="col-xs-2 form-group">
    <label class="control-label">Subject-1</label>
      <select type="text" class="form-control" ng-model="user.level[0].subject" >
        <option>Math</option>
        <option>Writing</option>
        <option>Reading</option>
        <option>Language</option>
        <option>Other</option>
      </select>
    </div>
    <div class="col-xs-2 form-group">
    <label class="control-label">Grade</label>
      <select type="text" class="form-control" ng-model="user.level[0].grade" >
        <option>K</option>
        <option>1st</option>
        <option>2nd</option>
        <option>3rd</option>
        <option>4th</option>
        <option>5th</option>
        <option>6th</option>
      </select>
    </div>
    <div class="col-xs-2 form-group">
    <label class="control-label">Subject-2</label>
      <select type="text" class="form-control" ng-model="user.level[1].subject" >
        <option>Math</option>
        <option>Writing</option>
        <option>Reading</option>
        <option>Language</option>
        <option>Other</option>
      </select>
    </div>
    <div class="col-xs-2 form-group">
    <label class="control-label">Grade</label>
      <select type="text" class="form-control" ng-model="user.level[1].grade" >
        <option>K</option>
        <option>1st</option>
        <option>2nd</option>
        <option>3rd</option>
        <option>4th</option>
        <option>5th</option>
        <option>6th</option>
      </select>
    </div>
  </div>

  <div class="row" ng-if="user.type == 'child'">
    <div class="col-xs-3 form-group">
      <label class="control-label">School</label>
      <input type="text" class="form-control" ng-model="user.school" >
    </div>
    <div class="col-xs-5 form-group">
      <label class="control-label">School Address</label>
      <input type="text" class="form-control" ng-model="user.schoolAddress" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">School City</label>
      <input type="text" class="form-control" ng-model="user.schoolCity" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Need Pickup?</label>
      <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" class="custom-control-input" ng-model="user.needPickup" ng-value="true">
      <label class="custom-control-label">Yes</label>
      <input type="radio" class="custom-control-input" ng-model="user.needPickup" ng-value="false">
      <label class="custom-control-label">No</label>
      </div>
    </div>
  </div>
  
  <div class="row" ng-if="user.type == 'child'">
    <div class="col-xs-2 form-group" ng-repeat="weekday in user.pickup">
      <input type="checkbox" ng-checked="weekday.attend" ng-model="weekday.attend" ng-click="updateWeekday(weekday)"/>
      <label>{{days[$index]}}</label>
    </div>
  </div>
  
  <div class="row" ng-if="user.type == 'child'">
    <div class="col-xs-2 form-group" ng-repeat="weekday in user.pickup">
      <div ng-if="weekday.attend">
        <input type="text" class="form-control" size="13" ng-model="weekday.pickup" />
      </div>
    </div>
  </div>
  
  <div class="form-group row">
  <div class="col-lg-2 form-group" style="padding:7px 0 0 15px">
    <input type="checkbox" ng-checked="user.active" ng-model="user.active" />
    <label style="color: red; font-size:20px">Active</label>
  </div>
  
  <div class="form-inline col-lg-5">
    <div class="col-lg-4">
      <label class="col-form-label" style="text-align:right; margin:10px 0 0 0; padding-left:0px">Enroll Date:</label>
    </div>
    <div class="input-group col-lg-6">  
      <input type="text" class="form-control" ng-model="enrollDate" 
    	uib-datepicker-popup="{{format}}" ng-change="enrollDateUpdated()"
        is-open="popup1.opened"/>
      <span class="input-group-btn">          
        <button type="button" class="btn btn-default" ng-click="open1()">
            <i class="glyphicon glyphicon-calendar"></i></button>
        </span>
    </div>
  </div>
  
  <div class="form-inline col-lg-5">
    <div class="col-lg-4">
      <label class="col-form-label" style="text-align:right; margin:10px 0 0 0; padding-left:0px">Last Date:</label>
    </div>
    <div class="input-group col-lg-6">
      <input type="text" class="form-control" ng-model="lastDate" 
        uib-datepicker-popup="{{format}}" ng-change="lastDateUpdated()"
        is-open="popup2.opened"/>
      <span class="input-group-btn">          
        <button type="button" class="btn btn-default" ng-click="open2()">
            <i class="glyphicon glyphicon-calendar"></i></button>
        </span>
    </div>
  </div>
  </div>
  
  <div class="row">
    <div class="col-xs-4 form-group">
      <label class="control-label">E-mail</label>
      <input type="text" class="form-control" ng-model="user.email" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Cell phone</label>
      <input type="text" class="form-control" ng-model="user.cellPhone" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Carrier</label>
      <select class="form-control" ng-model="user.carrier" >
        <option value="txt.att.net">AT&T</option>
        <option value="tmomail.net">T-Mobile</option>
        <option value="vtext.com">Verizon</option>
        <option value="messaging.sprintpcs.com">Sprint</option>
        <option value="mms.cricketwireless.net">Cricket</option>
      </select>
    </div>
    <div id="cp" class="col-xs-3 input-group colorpicker-component" style="padding-left:16px">
      <label class="control-label">Color</label>
      <input type="text" class="form-control" value="{{user.backgroundColor}}" ng-model="user.backgroundColor" />
      <span class="input-group-addon"><i></i></span>
    </div>
  </div>
      <script type="text/javascript">
        $(function(){
          $('#cp').colorpicker();
        });
      </script>
  
  <div class="row">
    <div class="col-xs-3 form-group">
      <label class="control-label">Home phone</label>
      <input type="text" class="form-control" ng-model="user.homePhone" >
    </div>
    <div class="col-xs-5 form-group">
      <label class="control-label">Home Street</label>
      <input type="text" class="form-control" ng-model="user.homeAddress" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Home City</label>
      <input type="text" class="form-control" ng-model="user.homeCity" >
    </div>
    <div class="col-xs-2 form-group">
      <label class="control-label">Home Zip</label>
      <input type="text" class="form-control" ng-model="user.homeZip" >
    </div>
  </div>
  
  <div class="row" ng-if="user.type == 'child'">
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #1 First name</label>
      <input type="text" class="form-control" ng-model="user.parent1FirstName" >
    </div>
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #1 Last name</label>
      <input type="text" class="form-control" ng-model="user.parent1LastName" >
    </div>
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #1 E-mail</label>
      <input type="text" class="form-control" ng-model="user.parent1Email" >
    </div>
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #1 Cell phone</label>
      <input type="text" class="form-control" ng-model="user.parent1Phone" >
    </div>
  </div>
  
  <div class="row" ng-if="user.type == 'child'">
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #2 First name</label>
      <input type="text" class="form-control" ng-model="user.parent2FirstName" >
    </div>
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #2 Last name</label>
      <input type="text" class="form-control" ng-model="user.parent2LastName" >
    </div>
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #2 E-mail</label>
      <input type="text" class="form-control" ng-model="user.parent2Email" >
    </div>
    <div class="col-xs-3 form-group">
      <label class="control-label">Parent #2 Cell phone</label>
      <input type="text" class="form-control" ng-model="user.parent2Phone" >
    </div>
  </div>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" type="button" ng-click="update()">Update</button>
  <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
</div>